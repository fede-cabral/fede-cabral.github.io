<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Gestor Pro - Federico Cabral</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <header>
        <h1>ðŸ“Š Gestor Personal Pro</h1>
        <p>OperaciÃ³n TranseconÃ³mico</p>
    </header>

    <main>

        <section class="card">
            <h2>ðŸ“Œ Tareas</h2>
            <input type="text" id="taskInput" placeholder="Nueva tarea...">
            <button onclick="addTask()">Agregar</button>
            <ul id="taskList"></ul>
        </section>

        <section class="card">
            <h2>ðŸ’° Gastos</h2>
            <input type="text" id="descInput" placeholder="DescripciÃ³n">
            <input type="number" id="amountInput" placeholder="Monto">
            <button onclick="addExpense()">Agregar</button>
            <ul id="expenseList"></ul>
            <p>Total: $<span id="total">0</span></p>
        </section>

        <section class="card">
            <h2>ðŸŽ¯ Metas</h2>
            <input type="text" id="goalInput" placeholder="Nueva meta">
            <button onclick="addGoal()">Agregar</button>
            <ul id="goalList"></ul>
        </section>

    </main>

    <footer>
        <p>Creado por Federico Cabral - 2026</p>
    </footer>

    <script src="app.js"></script>

    <script>
// ====== DATOS ======
let tasks = JSON.parse(localStorage.getItem("tasks")) || [];
let expenses = JSON.parse(localStorage.getItem("expenses")) || [];
let goals = JSON.parse(localStorage.getItem("goals")) || [];

// ====== ELEMENTOS ======
const taskInput = document.getElementById("taskInput");
const taskList = document.getElementById("taskList");

const descInput = document.getElementById("descInput");
const amountInput = document.getElementById("amountInput");
const expenseList = document.getElementById("expenseList");
const totalSpan = document.getElementById("total");

const goalInput = document.getElementById("goalInput");
const goalList = document.getElementById("goalList");

// ====== GUARDAR ======
function saveData() {
    localStorage.setItem("tasks", JSON.stringify(tasks));
    localStorage.setItem("expenses", JSON.stringify(expenses));
    localStorage.setItem("goals", JSON.stringify(goals));
}

// ====== RENDER ======
function render() {

    // Tareas
    taskList.innerHTML = "";
    tasks.forEach((t, i) => {
        const li = document.createElement("li");
        li.textContent = t;
        li.onclick = () => {
            tasks.splice(i,1);
            saveData();
            render();
        };
        taskList.appendChild(li);
    });

    // Gastos
    expenseList.innerHTML = "";
    let total = 0;

    expenses.forEach((e,i)=>{
        const li = document.createElement("li");
        li.textContent = `${e.desc} - $${e.amount}`;
        li.onclick = ()=>{
            expenses.splice(i,1);
            saveData();
            render();
        };

        total += Number(e.amount);
        expenseList.appendChild(li);
    });

    totalSpan.textContent = total;

    // Metas
    goalList.innerHTML = "";
    goals.forEach((g,i)=>{
        const li = document.createElement("li");
        li.textContent = g;
        li.onclick = ()=>{
            goals.splice(i,1);
            saveData();
            render();
        };
        goalList.appendChild(li);
    });
}

// ====== BOTONES ======
function addTask(){
    if(taskInput.value==="") return;

    tasks.push(taskInput.value);
    taskInput.value="";
    saveData();
    render();
}

function addExpense(){
    if(descInput.value==="" || amountInput.value==="") return;

    expenses.push({
        desc: descInput.value,
        amount: amountInput.value
    });

    descInput.value="";
    amountInput.value="";
    saveData();
    render();
}

function addGoal(){
    if(goalInput.value==="") return;

    goals.push(goalInput.value);
    goalInput.value="";
    saveData();
    render();
}

// ====== INICIAR ======
render();
</script>
    
</body>
</html>
